import { Markup, Telegraf } from "telegraf";
import { Command } from "../Command";
import { ILogger } from "../../logger";

export class Pay extends Command {
    constructor(bot: Telegraf, logger: ILogger) {
        super(bot, logger);
    }

    handle(): void {
        this.bot.hears('üíé –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø', async (ctx) => {
            this.logger.logAction('–ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø', ctx.from)

            await ctx.deleteMessage();
            await ctx.replyWithPhoto(
                "https://i.ibb.co/XDQ1pPC/14.png",
                 {
                   caption: `*üëæ –ß—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤—Å–µ–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ –±–æ—Ç–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–ø–ª–∞—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø*` + "\n \n" +
                   'üíµ –°—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Å—Ç—É–ø–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç *–≤—Å–µ–≥–æ \\- 3500 ‚ÇΩ –≤ –≥–æ–¥*' + "\n \n" +
                   '–°—Ä–µ–¥—Å—Ç–≤–∞ –∏–¥—É—Ç –Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –∫—Ä—É–ø–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –ò–ò, –≥–∏–ø–æ—Ç–µ–∑ –Ω–æ–≤—ã—Ö –∏–¥–µ–π –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –±–æ—Ç–∞' + "\n \n" +
                   '–í —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—Ö–æ–¥–∏—Ç:' + '\n' +
                   '\‚Äî –ü–æ–ª–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –±–æ—Ç–∞ \\(–ö–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ —Ä–µ–ª–∏–∑–∞\\)' + '\n' +
                   '\‚Äî –ì–æ–¥–æ–≤–æ–π –¥–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É' + '\n' +
                   '\‚Äî –î–æ—Å—Ç—É–ø –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–ª—É–± —Ç–æ–ø –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤',
                   parse_mode: 'MarkdownV2',
                   ...Markup.inlineKeyboard([ 
                    Markup.button.callback('üí∏ –û–ø–ª–∞—Ç–∏—Ç—å - 3500 ‚ÇΩ', 'pay_url'),
                  ]) 
                }
           )
        })
    }
}